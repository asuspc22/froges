"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.PermissionsManifestLinter = void 0;
const manifest_1 = require("@forge/manifest");
const abstract_manifest_linter_1 = require("./abstract-manifest-linter");
const permission_linter_1 = require("../permission-linter/permission-linter");
class PermissionsManifestLinter extends abstract_manifest_linter_1.AbstractManifestLinter {
    constructor(logger) {
        super(manifest_1.ValidationTypes.PRODUCT_TRIGGER, logger);
    }
    getFixer() {
        return permission_linter_1.fixMissingPermissions;
    }
    getResultsForFixer(results) {
        var _a;
        return ((_a = results.errors) === null || _a === void 0 ? void 0 : _a.filter((error) => { var _a; return (_a = error.metadata) === null || _a === void 0 ? void 0 : _a.missingPermission; })) || [];
    }
}
exports.PermissionsManifestLinter = PermissionsManifestLinter;
