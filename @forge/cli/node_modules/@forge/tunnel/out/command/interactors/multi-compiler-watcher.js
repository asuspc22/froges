"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.MultiCompilerWatcher = void 0;
class MultiCompilerWatcher {
    constructor(servers) {
        this.servers = servers;
    }
    async compileAndWatch({ onChange: { onBuildWillStart, onBuildFinished } }) {
        const results = await Promise.all(this.servers.map((server) => server.compileAndWatch({
            onBuildWillStart,
            onBuildFinished
        })));
        return results.reduce((prev, curr) => (Object.assign(Object.assign({}, prev), curr)), {});
    }
    async stop() {
        await Promise.all(this.servers.map((server) => server.stop()));
    }
}
exports.MultiCompilerWatcher = MultiCompilerWatcher;
