"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.AbstractValidationProcessor = void 0;
class AbstractValidationProcessor {
    constructor(validators) {
        this.validators = validators;
    }
    async process(manifest) {
        var _a;
        let results = {
            success: true
        };
        for (const validator of this.validators) {
            const stepResults = await validator.validate((_a = results.manifestObject) !== null && _a !== void 0 ? _a : manifest);
            results = {
                success: results.success && stepResults.success,
                manifestObject: stepResults.manifestObject || results.manifestObject,
                errors: [...(results.errors || []), ...(stepResults.errors || [])]
            };
        }
        return results;
    }
}
exports.AbstractValidationProcessor = AbstractValidationProcessor;
